@require '../../../components/stylus_lib'
@require '../../../../lib/palette'

mlf-upper-column-aside-width = 28%
mlf-upper-column-width = ((100% - mlf-upper-column-aside-width) / 4)

#main-layout-footer
  padding getSpace(2, 0)
  background-color getColor('white100')
  clearfix()
.mlf
  max-width default-max-page-width
  margin auto
  .mlf-upper
    margin-bottom getSpace(1)

  .mlf-upper
  .mlf-lower
    clearfix()
    padding getSpace(2, 0)
    border-top 1px solid getColor('black10')

  .mlf-lower
    position relative
    .main-layout-container
      display flex

  // Upper
  .mlf-upper-column
  .mlf-upper-column-aside
    float left
    padding-right getSpace(2)
    h4
      text('mediumText')
      margin-bottom getSpace(1)
    a
      text('text')
      padding getSpace(1, 0)
      display block
      overflow ellipsis
      text-decoration none
  .mlf-upper-column-aside
    width mlf-upper-column-aside-width
    display flex
    justify-content flex-end
    padding-right getSpace(1)
  .mlf-upper-column
    width mlf-upper-column-width

  @media screen and (max-width: 1024px)
    mlf-upper-column-aside-width = 25%
    .mlf-upper-column-aside
      width mlf-upper-column-aside-width
    .mlf-upper-column
      width mlf-upper-column-width

  // Lower
  #main-layout-footer-internal
    text('small')
    display flex
    justify-content center

    &
    & a
      color getColor('black60')
      text-decoration none

    a
    span
      display inline-flex
      align-items center
      text-decoration none
      margin-right getSpace(1)

      &:last-child
        margin-right 0

  #main-layout-footer-logo
    display inline-block
    font-size 30px
    margin-right getSpace(2)

  #main-layout-footer-external
    display flex
    position relative
    margin-left auto

  .mlf-links
    display flex
    justify-content center

    > *
      &:first-child
        margin-left getSpace(1)

  .mlf-social
    display block

  .mlf-icon-instagram
  .mlf-icon-wechat
    width 20px
    margin 7px 5px 0 5px
    height 20px

  .mlf-wechat-qr-code-container
    display none
  .mlf-icon-wechat:hover
    .mlf-wechat-qr-code-container
      display flex
      background-color getColor('white100')
      border 1px solid getColor('black10')
      box-shadow 0px 10px 20px gray-color
      width 150px
      height 150px
      position absolute
      left: -66px
      bottom 75px
      align-items center
      justify-content center
      .mlf-wechat-qr-code
        display block
        background-image url('http://files.artsy.net/images/wechat_qr_logo.png')
        width 125px
        height 125px
      .mlf-wechat-qr-code-triangle-down
        width 0
        height 0
        border-left 8px solid transparent
        border-right 8px solid transparent
        border-top 10px solid getColor('white100')
        position absolute
        right 65px
        bottom -9px

.mlf__mobile
  background-color black
  width 100vw
  color getColor('white100')
  display none
  a
    color getColor('white100')
    text-decoration none
  h4
    text('mediumText')
    margin-bottom getSpace(1)
  .mlf-upper-column, .mlf-user-column
    text('text')
    padding getSpace(2)
    width 100vw
    float none
    a
      width 50%
      display inline-block
  .mlf-upper-column a:nth-child(even),
  .mlf-user-column a:nth-child(odd)
      margin-left getSpace(1.5)
      width calc(50% \- getSpace(1.5))
  .mlf-user-column
    border-top 1px solid gray-darkest-color
  .mlf-login-signup
    width 100vw
    display flex
    justify-content space-between
    a
      text-align center
      width calc(50% \- getSpace(1.5))
      &:first-child
        margin-left getSpace(1)
      &:last-child
        margin-right getSpace(1)
  .mlf-lower
    text('small')
    border none
    padding getSpace(3, 2)

@media (max-width: 600px)
  #main-layout-footer
    padding 0
    max-width 100%
    overflow hidden
  .mlf.mlf__fullwidth
    display none
  .mlf.mlf__mobile
    display block
